{"moduleFile":{"sourceFilePath":"/Users/casey/Misc/stencil-mill/src/components/stencil-mill-preview/stencil-mill-preview.tsx","localImports":[],"externalImports":["@stencil/core"],"potentialCmpRefs":[],"cmpMeta":{"tagNameMeta":"stencil-mill-preview","stylesMeta":{"$":{"externalStyles":[{"absolutePath":"/Users/casey/Misc/stencil-mill/src/components/stencil-mill-preview/stencil-mill-preview.styl","cmpRelativePath":"stencil-mill-preview.styl","originalComponentPath":"stencil-mill-preview.styl"}]}},"assetsDirsMeta":[],"hostMeta":{},"dependencies":[],"jsdoc":{"name":"Story","documentation":"","type":"typeof Story"},"encapsulationMeta":1,"componentClass":"Story","membersMeta":{"componentProps":{"memberType":16},"component":{"memberType":1,"attribName":"component","attribType":{"text":"IComponent","optional":false,"typeReferences":{"IComponent":{"referenceLocation":"global"}}},"reflectToAttrib":false,"propType":0,"jsdoc":{"name":"component","documentation":"","type":"IComponent"}}},"eventsMeta":[],"listenersMeta":[]},"hasSlot":false,"hasSvg":false,"jsFilePath":"/Users/casey/Misc/stencil-mill/src/components/stencil-mill-preview/stencil-mill-preview.js"},"jsText":"export class Story {\r\n    constructor() {\r\n        this.componentProps = {};\r\n        this.rawProps = {};\r\n        this.controlFactories = {\r\n            string: this.createInput.bind(this, 'text'),\r\n            boolean: this.createCheckbox.bind(this),\r\n            number: this.createInput.bind(this, 'number')\r\n        };\r\n    }\r\n    createInput(type, prop) {\r\n        return (h(\"label\", null,\r\n            h(\"div\", null,\r\n                prop.attr,\r\n                \" (\",\r\n                prop.type,\r\n                \")\"),\r\n            h(\"input\", { type: type, value: this.componentProps[prop.name], onInput: e => {\r\n                    this.componentProps = Object.assign({}, this.componentProps, { [prop.name]: e.currentTarget.value });\r\n                } })));\r\n    }\r\n    createCheckbox(prop) {\r\n        return (h(\"label\", null,\r\n            h(\"input\", { type: 'checkbox', checked: this.componentProps[prop.name], onChange: e => {\r\n                    this.componentProps = Object.assign({}, this.componentProps, { [prop.name]: e.target.checked });\r\n                } }),\r\n            \"\\u00A0\",\r\n            prop.attr,\r\n            \" (\",\r\n            prop.type,\r\n            \")\"));\r\n    }\r\n    createJSON(prop) {\r\n        return h(\"label\", null,\r\n            h(\"div\", null,\r\n                prop.attr,\r\n                \" (\",\r\n                prop.type,\r\n                \")\"),\r\n            h(\"textarea\", { value: this.rawProps[prop.name], onInput: e => {\r\n                    let data = e.target.value;\r\n                    this.rawProps[prop.name] = data;\r\n                    try {\r\n                        data = new Function(`return ${data}`)();\r\n                    }\r\n                    catch (err) {\r\n                        // noop\r\n                    }\r\n                    this.componentProps = Object.assign({}, this.componentProps, { [prop.name]: data });\r\n                } }));\r\n    }\r\n    render() {\r\n        const Tag = this.component.tag;\r\n        const controls = this.component.props.map(p => {\r\n            if (p.type && this.controlFactories[p.type]) {\r\n                return this.controlFactories[p.type](p);\r\n            }\r\n            else {\r\n                return this.createJSON(p);\r\n            }\r\n        });\r\n        const preview = h(Tag, Object.assign({}, this.componentProps));\r\n        return [h(\"h1\", null, Tag), controls, preview];\r\n    }\r\n    static get is() { return \"stencil-mill-preview\"; }\r\n    static get encapsulation() { return \"shadow\"; }\r\n    static get properties() { return {\r\n        \"component\": {\r\n            \"type\": \"Any\",\r\n            \"attr\": \"component\"\r\n        },\r\n        \"componentProps\": {\r\n            \"state\": true\r\n        }\r\n    }; }\r\n    static get style() { return \"/**style-placeholder:stencil-mill-preview:**/\"; }\r\n}\r\n"}