{"moduleFile":{"sourceFilePath":"/Users/casey/Misc/stencil-mill/src/components/picto-gram/picto-gram.tsx","localImports":[],"externalImports":["@/model","@stencil/core","lodash-es","lodash-es"],"potentialCmpRefs":[],"cmpMeta":{"tagNameMeta":"picto-gram","stylesMeta":{"$":{"externalStyles":[{"absolutePath":"/Users/casey/Misc/stencil-mill/src/components/picto-gram/picto-gram.styl","cmpRelativePath":"picto-gram.styl","originalComponentPath":"picto-gram.styl"}]}},"assetsDirsMeta":[],"hostMeta":{},"dependencies":[],"jsdoc":{"name":"Guide","documentation":"","type":"typeof Guide"},"encapsulationMeta":1,"componentClass":"Guide","membersMeta":{"componentProps":{"memberType":16},"component":{"memberType":1,"attribName":"component","attribType":{"text":"IComponent","optional":false,"typeReferences":{"IComponent":{"referenceLocation":"import","importReferenceLocation":"@/model"}}},"reflectToAttrib":false,"propType":1,"jsdoc":{"name":"component","documentation":"","type":"any"}},"usage":{"memberType":1,"attribName":"usage","attribType":{"text":"IUsage","optional":false,"typeReferences":{"IUsage":{"referenceLocation":"import","importReferenceLocation":"@/model"}}},"reflectToAttrib":false,"propType":1,"jsdoc":{"name":"usage","documentation":"","type":"any"},"watchCallbacks":["setProps"]}},"eventsMeta":[],"listenersMeta":[]},"hasSlot":false,"hasSvg":false,"jsFilePath":"/Users/casey/Misc/stencil-mill/src/components/picto-gram/picto-gram.js"},"jsText":"import { entries } from 'lodash-es';\r\nexport class Guide {\r\n    constructor() {\r\n        this.componentProps = {};\r\n        this.rawProps = {};\r\n        this.controlFactories = {\r\n            string: this.createInput.bind(this, 'text'),\r\n            boolean: this.createCheckbox.bind(this),\r\n            number: this.createInput.bind(this, 'number')\r\n        };\r\n    }\r\n    setProps(usage) {\r\n        this.componentProps = Object.assign({}, usage.props);\r\n        this.rawProps = entries(usage.props).reduce((a, [p, v]) => {\r\n            a[p] = JSON.stringify(v, null, 2);\r\n            return a;\r\n        }, {});\r\n    }\r\n    componentDidLoad() {\r\n        this.setProps(this.usage);\r\n    }\r\n    createInput(type, prop) {\r\n        return (h(\"label\", null,\r\n            h(\"div\", null,\r\n                prop.attr,\r\n                \" \",\r\n                h(\"code\", null, prop.type)),\r\n            h(\"input\", { type: type, value: this.componentProps[prop.name], onInput: e => {\r\n                    this.componentProps = Object.assign({}, this.componentProps, { [prop.name]: e.currentTarget.value });\r\n                } })));\r\n    }\r\n    createCheckbox(prop) {\r\n        return (h(\"label\", null,\r\n            h(\"input\", { type: 'checkbox', checked: this.componentProps[prop.name], onChange: e => {\r\n                    this.componentProps = Object.assign({}, this.componentProps, { [prop.name]: e.target.checked });\r\n                } }),\r\n            \"\\u00A0\",\r\n            prop.attr,\r\n            \" \",\r\n            h(\"code\", null, prop.type)));\r\n    }\r\n    createJSON(prop) {\r\n        return h(\"label\", null,\r\n            h(\"div\", null,\r\n                prop.attr,\r\n                \" \",\r\n                h(\"code\", null, prop.type)),\r\n            h(\"textarea\", { value: this.rawProps[prop.name], onInput: e => {\r\n                    let data = e.target.value;\r\n                    this.rawProps[prop.name] = data;\r\n                    try {\r\n                        data = new Function(`return ${data}`)();\r\n                    }\r\n                    catch (err) {\r\n                        // noop\r\n                    }\r\n                    this.componentProps = Object.assign({}, this.componentProps, { [prop.name]: data });\r\n                } }));\r\n    }\r\n    render() {\r\n        const controls = this.component.props.map(p => {\r\n            if (p.type && this.controlFactories[p.type]) {\r\n                return this.controlFactories[p.type](p);\r\n            }\r\n            else {\r\n                return this.createJSON(p);\r\n            }\r\n        });\r\n        const preview = h(this.component.tag, Object.assign({}, this.componentProps, { innerHTML: this.usage.innerHTML }));\r\n        return [controls, preview];\r\n    }\r\n    static get is() { return \"picto-gram\"; }\r\n    static get encapsulation() { return \"shadow\"; }\r\n    static get properties() { return {\r\n        \"component\": {\r\n            \"type\": \"Any\",\r\n            \"attr\": \"component\"\r\n        },\r\n        \"componentProps\": {\r\n            \"state\": true\r\n        },\r\n        \"usage\": {\r\n            \"type\": \"Any\",\r\n            \"attr\": \"usage\",\r\n            \"watchCallbacks\": [\"setProps\"]\r\n        }\r\n    }; }\r\n    static get style() { return \"/**style-placeholder:picto-gram:**/\"; }\r\n}\r\n"}